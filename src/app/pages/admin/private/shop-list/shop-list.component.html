<div class="card-box overflow-hidden">
  <form (ngSubmit)="updateFilters()" [formGroup]="shopSearchForm" class="shop-search p-4"> 
    <div class="row">
      <div class="col-6">
        <range-date-picker #datePicker [fromDate]="this.shopSearchForm.get('start_date').value" [toDate]="this.shopSearchForm.get('end_date').value" [hoveredDate]="hoveredDate" (dateSelectionEvent)="onDateSelection($event)"></range-date-picker>
      </div> 
      <div class="col-6">
        <label>Search</label>
        <form-input inputType="text" name="id" placeholder="Shop Id"></form-input>
      </div>
    </div>
    <div class="row">
      <div class="col-3">
          <label>Status</label>
          <div class="form-group form-group-status">
            <ng-select [clearable]="false" [items]="statuses" [searchable]="false" formControlName="status"
              [multiple]="true" placeholder="Status">
            </ng-select>
            <div class="form-control-feedback has-danger"></div>
          </div>
        </div>
      <div class="col-3">
        <label>Sort</label> 
        <div class="form-group form-group-sort_order ml-2 pl-1">
          <div class="row mt-2">
           <div class="col-4 custom-control custom-radio">
              <input id="asc" type="radio" class="custom-control-input" value="ASC" name="sort_order" formControlName="sort_order">
              <label class="custom-control-label" for="asc">ASC</label>
           </div>

           <div class="col-3 custom-control custom-radio">
            <input id="dsc" type="radio" class="custom-control-input" value="DESC" name="sort_order" formControlName="sort_order">
              <label class="custom-control-label" for="dsc">DESC</label>
           </div>
          </div>
          <div class="form-control-feedback has-danger"></div>
        </div>
      </div>
      <div class="col-3"></div>
      <div class="col-1 mt-3">
        <button type="button" class="btn btn-outline-primary mt-4" (click)="reset()">Clear</button>
      </div>
      <div class="col-1 mt-3">
        <input type="submit" name="Apply" class="btn btn-primary mt-4"/>
      </div>
    </div>
    <div class="form-feedback has-danger mt-1 ml-3"></div>
  </form>

  <div class="p-4">
    <div class="d-flex pb-2"> 
      <div class="align-self-start">
        <span class="h6">Shop</span> | 
        <span class="h6"> Total ({{totalElements}}) </span>
      </div>
      <div class="ml-auto pr-2 text-primary"><a class="cursor-pointer" (click)="addShop()">New Shop</a></div>
    </div>
    <ngx-datatable
      #shopList
      class="material bg-white box-shadow-none border-1 server-scrolling-demo"
      [rows]="rows"
      [columnMode]="ColumnMode.standard"
      [loadingIndicator]="isLoading"
      [headerHeight]="headerHeight"
      [rowHeight]="rowHeight"
      reorderable="false"
      (activate)="onRowClick($event)"
      [scrollbarV]="true"
      (scroll)="onScroll($event.offsetY)"
    >

     <ngx-datatable-column name="Id" prop="id" [width]="50" [sortable]="false">
        <ng-template let-id="value" ngx-datatable-cell-template>
           {{id}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Name" prop="name" [width]="250" [sortable]="false">
        <ng-template let-name="value" ngx-datatable-cell-template>
            {{name}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Category" prop="category" [width]="200" [sortable]="false">
        <ng-template let-category="value" ngx-datatable-cell-template>
            {{category}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Status" prop="status" [width]="200" [sortable]="false">
        <ng-template let-status="value" ngx-datatable-cell-template>
            {{status}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Area" prop="area" [width]="200" [sortable]="false">
        <ng-template let-area="value" ngx-datatable-cell-template>
            {{ area }} 
        </ng-template>
      </ngx-datatable-column>
      
    </ngx-datatable>
  </div>
</div>
